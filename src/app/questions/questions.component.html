    <div class="main-content">
      <div class="project-info">
        <div class="project-name">
          <h4>Project Name: {{buData.businessUnit}}</h4>
        </div>
        <div class="unit">
          <h4>Business Unit: {{buData.subBusinessUnit}}</h4>
        </div>
        <div class="sub-unit">
          <h4>Business Name: {{buData.projectName}}</h4>
        </div>
      </div>
      
      {{dataOfCategory | json}}

      <div class="add-category">
        <div class="add-button">
          <button class="mdc-chip" [matMenuTriggerFor]="category">
            <img src="../../assets/img/Group 142.svg" alt="icon">
            <span class="mdc-chip__text">Add Category</span>
          </button>
        </div>
          <mat-card *ngIf="dataOfCategory.length == 0" style="text-align: center">
            <h4>Category is empty</h4>
          </mat-card>
          <mat-menu #category="matMenu">
            <button mat-menu-item (click)="openCreateCDialog()">Create new Category</button>
            <button mat-menu-item (click)="openExistingCategory()">Select Existing Category</button>
          </mat-menu>
        </div>

      <mat-accordion>
        <ng-container *ngFor="let p of dataOfCategory;let i = index">

          <mat-expansion-panel [expanded]="i+1 === dataOfCategory.length" (opened)="setCurrentCategory(p)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                Category {{i+1}}: {{p.name}}
              </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-panel-description>
                <div class="add-category">
                  <div class="add-button">
                    <button class="mdc-chip" (click)="openCreateQuesDialog()" style="background-color: rgb(18, 179, 243)">
                      <img src="../../assets/img/Group 142.svg" alt="icon">
                      <span class="mdc-chip__text">Add Questions</span>
                    </button>
                    </div>
                    <mat-card *ngIf="currentCategory.questions?.length == null" style="text-align: center">
                      <h4> There is no question for this category </h4>
                    </mat-card>
                  </div>
              <ng-container *ngFor="let l1 of currentCategory.questions | mainQuestions;let i = index">
                  <mat-card>
                      <!-- <button mat-mini-fab color="primary">P.Q 
                        .</button> -->
                       {{i+1}}. {{l1.question}}
    
                    <mat-card-actions>
                      <div class="subQues" (click)="openCreateQuesDialog(l1)">
                        <mat-icon aria-hidden="false" aria-label="Example home icon" style="width: 20px">add_circle</mat-icon>
                        Sub Questions
                      </div>
    
                      <mat-icon matTooltip="Delete This Questions" matTooltipClass="tooltip-blue"
                        matTooltipPosition="above" (click)="deleteQuestion(l1.id)">delete</mat-icon>
                      <mat-icon (click)="openCreateQuesDialog(l1,true)" matTooltip="Edit This Question"
                        matTooltipClass="tooltip-blue" matTooltipPosition="above">edit
                      </mat-icon>
                      <mat-icon (click)="openCreateQuesDialog(l1,true)" matTooltip="View Categry"
                      matTooltipClass="tooltip-blue" matTooltipPosition="above">visibility
                    </mat-icon>
                    </mat-card-actions>
                    <ng-container *ngFor="let l2 of currentCategory.questions | subQuestions: l1.id; let j = index" >
                      <mat-card class="level2">
                          <button *ngIf="l2.ansId == 1" mat-mini-fab color="primary">Yes</button> <button mat-mini-fab color="warn" *ngIf="l2.ansId == 2">No</button> <button *ngIf="l2.ansId == 3" mat-mini-fab class="both">Both</button> {{j+1}}. {{l2.question}}
    
                        <mat-card-actions>
                          <div class="subQues" (click)="openCreateQuesDialog(l2)">
                            <mat-icon aria-hidden="false" aria-label="Example home icon" style="width: 20px">add_circle</mat-icon>
                            Sub Questions
                          </div>
        
                          <mat-icon matTooltip="Delete This Questions" matTooltipClass="tooltip-blue"
                            matTooltipPosition="above">delete</mat-icon>
                          <mat-icon (click)="openCreateQuesDialog(l2,true)" matTooltip="Edit This Question"
                            matTooltipClass="tooltip-blue" matTooltipPosition="above">edit
                          </mat-icon>
                          <mat-icon (click)="openCreateQuesDialog(l2,true)" matTooltip="View Question"
                          matTooltipClass="tooltip-blue" matTooltipPosition="above">visibility
                        </mat-icon>
                        </mat-card-actions>
    
                        <ng-container *ngFor="let l3 of currentCategory.questions | subQuestions: l2.id; let k = index" >
                          <mat-card class="level2">
                              <button *ngIf="l3.ansId == 1" mat-mini-fab color="primary">Yes</button> <button mat-mini-fab color="warn" *ngIf="l3.ansId == 2">No</button> <button *ngIf="l3.ansId == 3" mat-mini-fab class="both">Both</button> {{k+1}}. {{l3.question}}        
                            <mat-card-actions>            
                              <mat-icon matTooltip="Delete This Questions" matTooltipClass="tooltip-blue"
                                matTooltipPosition="above">delete</mat-icon>
                              <mat-icon (click)="openCreateQuesDialog(l3,true)" matTooltip="Edit This Question"
                                matTooltipClass="tooltip-blue" matTooltipPosition="above">edit
                              </mat-icon>
                              <mat-icon (click)="openCreateQuesDialog(l3,true)" matTooltip="View Question"
                              matTooltipClass="tooltip-blue" matTooltipPosition="above">visibility
                            </mat-icon>
                            </mat-card-actions>
                          </mat-card>
                          </ng-container>
                      </mat-card>
                      </ng-container>
                  </mat-card>
              </ng-container>

            </mat-panel-description>

            <mat-action-row>
              <mat-icon (click)="deleteCategory(p.id)" matTooltip="Delete This Category"
                matTooltipClass="tooltip-blue" matTooltipPosition="above">delete</mat-icon>
              <mat-icon matTooltip="Edit This Category" matTooltipClass="tooltip-blue" matTooltipPosition="above" (click)="openCreateCDialog(p,true)">edit
              </mat-icon>
              <mat-icon (click)="openCreateCDialogView(p, true)" matTooltip="View Categry"
              matTooltipClass="tooltip-blue" matTooltipPosition="above">visibility
            </mat-icon>
            </mat-action-row>
          </mat-expansion-panel>
        </ng-container>
      </mat-accordion>


    </div>
